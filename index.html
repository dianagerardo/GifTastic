<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>GifTastic!</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" href="assets/style.css">


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="//ajax.googleapis.com/ajax/libs/prototype/1.7.1.0/prototype.js"></script>


</head>

<body>

    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">GifTastic Fun!</h1>
            <p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>
        </div>
    </div>

    <div class="container">

        <h1>Search animal gifs!</h1>
        <!-- The animal buttons go here-->
        <div id="buttons-view"></div>

        <form id="animal-form">
            <span id="animal">Think of an animal gif you would like to see:
                <input id="animal-choice" type="text">
                <!-- Buttons trigger new animal gifs -->
                <input id="add-animal" value="Add Animal" type="submit">
            </span>
        </form>

        <div id="animal-view"></div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


</body>

<script type="text/javascript">
    // Empty array of gif topics
    var topic = [];
    // Function for displaying the gif buttons
    function animalButtons() {
        // Deleting the movie buttons prior to adding new movie buttons
        // (this is necessary otherwise we will have repeat buttons)
        $("#buttons-view").empty();

        // Looping through the array of movies
        for (var i = 0; i < topic.length; i++) {
            // Dynamicaly generating buttons for each animal in the array
            var newButton = $("<button>");
            // Adding a class
            newButton.addClass("animal-btn");
            // Adding a data-attribute with a value of the movie at index i
            newButton.attr("data-name", topic[i]);
            // Providing the button's text with a value of the movie at index i
            newButton.text(topic[i]);
            // Adding the button to the HTML
            $("#buttons-view").append(newButton);
        }
    };



    $("#add-animal").on("click", function (event) {
        // event.preventDefault() can be used to prevent an event's default behavior.
        // Here, it prevents the submit button from trying to submit a form when clicked
        event.preventDefault();
        // Here we grab the text from the input box
        var animal = $("#animal-choice").val().trim();
        // Here we construct our URL
        var queryURL = "https://api.giphy.com/v1/gifs/random?api_key=BkaUZZWcFij6J7AoQj3WtPb1R2p9O6V9&tag=animal";
        // Creating an AJAX call for the specific animal gif button when clicked
        $.ajax({
            url: queryURL,
            method: "GET"
        }).then(function (response) {
            // console.log(response);
            // $("#animal-view").text(JSON.stringify(response));

            // Creating a div to hold the animal gif
            var animalDiv = $("<div>");
            // Adding a class to the new div
            animalDiv.addClass("animal-div");
            // Saving the image info to a new variable
            var imageURL = response.data.image_original_url;
            // Creating and storing the animal image tag
            var animalImage = $("<img>");
            // Giving the image tag the src
            animalImage.attr("src", imageURL);
            animalImage.attr("alt", "animal image");

            $("#animal-view").prepend(animalImage);
            console.log(response);

        });
    })

</script>


</html>